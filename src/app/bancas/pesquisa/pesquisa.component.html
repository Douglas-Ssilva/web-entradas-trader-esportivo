<div class="container spaceHeader">
  <h2 class="subtitulo">Bancas</h2>

  <div class="card flex justify-content-center" *ngIf="showSpinner">
    <p-progressSpinner [style]="{width: '40px', height: '50px'}"  strokeWidth="3"
      fill="var(--surface-ground)" animationDuration=".6s" styleClass="custom-spinner" ></p-progressSpinner>
  </div>

  <div class="col-12 spaceTop">
      <p-table
          [value]="bancas"
          [responsive]="true"
          [lazy]="true"
          (onLazyLoad)="changePage($event)"
          [paginator]="true"
          [totalRecords]="totalRegistros"
          [rows]="bancaFilter.itensPorPagina"
          #tabela
          [filterDelay]="800"
          [globalFilterFields]="['nome']"
          styleClass="p-datatable-gridlines p-datatable-striped">

          <ng-template pTemplate="caption">
            <div class="col-12 p-fluid">
              <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input pInputText type="text" (input)="tabela.filterGlobal($any($event.target).value, 'contains')" placeholder="Pesquisa por nome" />
              </span>
            </div>
          </ng-template>

          <ng-template pTemplate="header">
              <tr>
                  <th>Nome</th>
                  <th>Valor</th>
                  <th>Principal</th>
                  <th>Ações</th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-banca>
              <tr>
                  <td>
                    <span class="p-column-title">Nome</span>
                    {{banca.nome}}
                  </td>
                  <td>
                    <span class="p-column-title">Valor</span>
                    {{banca.valor | currency : "BRL" : "symbol" : "1.2-2" : "pt" }}
                  </td>
                  <td>
                    <span class="p-column-title">Principal</span>
                    <p-checkbox [ngModel]="banca.principal" [binary]="true" [disabled]="true"></p-checkbox>
                  </td>

                  <td class="acoes-20">
                    <a href="javascript::void(0)"  icon="pi pi-check" (click)="selectBanca(banca)" class="cursor-pointer" pButton pTooltip="Selecionar banca"></a>
                    <a [routerLink]="['/bancas/visualizar', banca.id]" icon="pi pi-search" class="cursor-pointer space-left" pButton pTooltip="Visualizar banca"></a>
                    <a [routerLink]="['/bancas/editar', banca.id]" icon="pi pi-pencil" class="cursor-pointer space-left" pButton pTooltip="Editar banca"></a>
                  </td>
              </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <!--Observe que foi definido o valor 6 para o colspan, isso porque existem 6 colunas na nossa tabela de lançamentos.-->
              <td colspan="6">
                Nenhuma banca encontrada
              </td>
            </tr>
          </ng-template>
        </p-table>

        <div class="col-12 spaceTop alignRight">
          <a routerLink="/bancas/novo" tooltipPosition="top" pButton icon="pi pi-plus"></a>
        </div>

  </div>
